---
name: prompt-optimization
description: 프롬프트 품질을 분석하고 GUI 기반 HITL 방식으로 개선하는 스킬
---

# Prompt Optimization Skill

사용자의 프롬프트를 체계적으로 분석하고 **GUI 인터페이스**를 통해 개선하는 전문 스킬입니다.

## 핵심 원칙

**반드시 AskUserQuestion 도구를 사용하여 사용자와 상호작용하세요.**
CLI 텍스트 입력 대신 버튼 클릭 방식의 GUI를 제공합니다.

## 활성화 조건

이 스킬은 다음 상황에서 자동으로 활용됩니다:
- 사용자가 모호하거나 불완전한 프롬프트를 입력할 때
- 프롬프트 개선이나 최적화를 요청할 때
- "프롬프트", "질문 개선", "더 구체적으로" 등의 키워드가 포함될 때

## 평가 프레임워크

### 품질 평가 기준 (0-100점)

| 기준 | 배점 | 평가 내용 |
|------|------|----------|
| 명확성 | 25점 | 요청이 구체적이고 명확한가? |
| 맥락 | 25점 | 충분한 배경 정보가 제공되었는가? |
| 목표 | 25점 | 원하는 결과물이 분명한가? |
| 제약조건 | 25점 | 필요한 제한사항이 명시되었는가? |

### 점수별 모드

| 점수 구간 | 모드 | GUI 상호작용 방식 |
|----------|------|------------------|
| 0-59점 | 직접 입력 | 보충 카테고리 선택 → Other로 상세 입력 |
| 60-89점 | 객관식 | 구체화 질문 → 4지선다 버튼 선택 |
| 90-100점 | 완료 | 실행 여부 확인 → 예/아니오 선택 |

## GUI 상호작용 패턴

### 패턴 1: 직접 입력 모드 (60점 미만)

```yaml
AskUserQuestion:
  questions:
    - question: "프롬프트에 어떤 정보를 추가하시겠습니까?"
      header: "보충 정보"
      multiSelect: false
      options:
        - label: "목적/용도 추가"
          description: "이 프롬프트의 목적이나 사용 용도를 명시"
        - label: "대상/독자 지정"
          description: "결과물의 대상 독자나 사용자를 지정"
        - label: "형식/포맷 명시"
          description: "원하는 출력 형식이나 포맷을 지정"
        - label: "제약조건 추가"
          description: "길이, 스타일, 기술 수준 등 제한사항 명시"
```

사용자가 "Other"를 선택하면 자유롭게 텍스트를 입력할 수 있습니다.

### 패턴 2: 객관식 모드 (60점 이상)

프롬프트 내용에 맞는 맞춤형 질문을 생성합니다:

```yaml
# 코딩 관련 프롬프트 예시
AskUserQuestion:
  questions:
    - question: "어떤 프로그래밍 언어를 사용할까요?"
      header: "언어"
      multiSelect: false
      options:
        - label: "Python"
          description: "데이터 분석, 자동화, 웹 개발에 적합"
        - label: "JavaScript/TypeScript"
          description: "웹 프론트엔드, Node.js 백엔드"
        - label: "Java/Kotlin"
          description: "엔터프라이즈, 안드로이드 개발"
        - label: "기타"
          description: "다른 언어 지정"
```

```yaml
# 글쓰기 관련 프롬프트 예시
AskUserQuestion:
  questions:
    - question: "글의 톤앤매너는 어떻게 할까요?"
      header: "톤앤매너"
      multiSelect: false
      options:
        - label: "공식적/전문적"
          description: "비즈니스, 학술적 문서에 적합"
        - label: "친근한/대화체"
          description: "블로그, SNS 콘텐츠에 적합"
        - label: "설명적/교육적"
          description: "가이드, 튜토리얼에 적합"
        - label: "창의적/스토리텔링"
          description: "마케팅, 브랜딩에 적합"
```

### 패턴 3: 최종 확인

```yaml
AskUserQuestion:
  questions:
    - question: "최적화가 완료되었습니다. 이 프롬프트로 실행할까요?"
      header: "실행 확인"
      multiSelect: false
      options:
        - label: "예, 실행합니다 (권장)"
          description: "최적화된 프롬프트로 LLM 응답을 생성합니다"
        - label: "아니오, 종료합니다"
          description: "프롬프트만 확인하고 종료합니다"
```

## 질문 생성 가이드라인

### 좋은 질문의 특징
1. **구체적**: 프롬프트의 부족한 부분을 정확히 타겟
2. **선택 가능**: 2-4개의 명확한 선택지 제공
3. **상호 배타적**: 각 옵션이 겹치지 않음
4. **설명 포함**: 각 옵션에 대한 간단한 설명 제공

### 질문 생성 예시

| 프롬프트 유형 | 질문 예시 | 선택지 예시 |
|-------------|----------|------------|
| 코드 작성 | "어떤 기능을 구현할까요?" | CRUD, 인증, API, 자동화 |
| 글쓰기 | "어떤 독자를 대상으로 할까요?" | 일반인, 전문가, 학생, 경영진 |
| 분석 | "어떤 관점으로 분석할까요?" | 기술적, 비즈니스, 사용자, 보안 |
| 디자인 | "어떤 스타일을 원하시나요?" | 미니멀, 모던, 클래식, 플레이풀 |

## 종료 조건

다음 중 하나를 만족하면 최적화를 종료합니다:
- **점수 달성**: 90점 이상
- **반복 완료**: 객관식 질문 5회 완료

## 출력 형식

### 평가 결과 표시
```
📊 프롬프트 평가 결과
━━━━━━━━━━━━━━━━━━━━━
점수: {score}/100
모드: {직접 입력 | 객관식}
질문 횟수: {count}/5회

📄 현재 프롬프트:
{current_prompt}
━━━━━━━━━━━━━━━━━━━━━
```

### 최종 결과 표시
```
═══════════════════════════════════════════════════
✨ 프롬프트 최적화 완료!
═══════════════════════════════════════════════════
📊 최종 점수: {score}/100
🔄 질문 횟수: {count}회

🎯 최종 프롬프트:
───────────────────────────────────────────────────
{final_prompt}
───────────────────────────────────────────────────
═══════════════════════════════════════════════════
```

## 주의사항

- **항상 AskUserQuestion 사용**: CLI 입력을 요청하지 마세요
- **진행 상황 표시**: 매 단계마다 점수와 상태를 보여주세요
- **맞춤형 질문**: 프롬프트 내용에 맞는 관련성 높은 질문을 생성하세요
- **자연스러운 통합**: 사용자 선택을 프롬프트에 자연스럽게 반영하세요
